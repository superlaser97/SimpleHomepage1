<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Homepage</title>
    <link href="./style.css" rel="stylesheet">
    <style>
        /* Add a keyframe animation for a subtle fade-in effect on load */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .fade-in {
            animation: fadeIn 0.5s ease-out forwards;
        }
        /* Stagger the animation for each category */
        #shortcuts-container > div, #notes-container > div {
            animation: fadeIn 0.5s ease-out forwards;
            opacity: 0;
        }
        #note-modal, #theme-switcher {
            z-index: 50;
        }

        /* Fullscreen Modal */
        #note-modal.is-active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        #note-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8); /* Dark overlay */
            backdrop-filter: blur(10px); /* Frosted glass effect */
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease, transform 0.3s ease;
            transform: translateY(20px); /* Start slightly below for slide-up effect */
            z-index: 9999; /* Ensure it's on top of everything */
        }

        #note-modal-content {
            background-color: #ffffff; /* White background for light theme */
            color: #333333; /* Dark text for light theme */
            padding: 2.5rem; /* Increased padding */
            border-radius: 1rem; /* More rounded corners */
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            width: 90%; /* Wider modal */
            max-width: 800px; /* Max width for larger screens */
            max-height: 90vh; /* Max height to prevent overflow */
            overflow-y: auto; /* Enable scrolling for long content */
            position: relative;
            transform: scale(0.95); /* Slightly smaller initially for pop-in effect */
            transition: transform 0.3s ease, opacity 0.3s ease;
        }

        /* Dark mode adjustments for modal content */
        .dark #note-modal-content {
            background-color: #1a202c; /* Dark background for dark theme */
            color: #e2e8f0; /* Light text for dark theme */
        }

        /* Animation for modal content */
        #note-modal.is-active #note-modal-content {
            transform: scale(1);
            opacity: 1;
        }

        /* Close button style */
        #modal-close-btn {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 1.8rem; /* Larger close button */
            color: #999;
            cursor: pointer;
            transition: color 0.2s ease;
        }

        #modal-close-btn:hover {
            color: #333; /* Darker on hover for light theme */
        }

        .dark #modal-close-btn:hover {
            color: #eee; /* Lighter on hover for dark theme */
        }

        /* Modal title and body styling */
        #modal-title {
            font-size: 2rem; /* Larger title */
            margin-bottom: 1rem;
            color: #2c5282; /* A shade of blue for the title */
        }

        .dark #modal-title {
            color: #90cdf4; /* Lighter blue for dark theme */
        }

        #modal-body {
            font-size: 1.1rem; /* Slightly larger body text */
            line-height: 1.6;
        }
    </style>
    <script>
        // ---------------------
        // --- CONFIGURATION ---
        // ---------------------
        const pageTitle = 'My Quick Links';
        const notes = [
            { title: 'Project Ideas', content: 'A personal dashboard with weather, to-do list, and quick links. Maybe use a public API. It could be built with SvelteKit or Next.js and deployed on Vercel for free. The design should be clean, modern, and utilize glassmorphism for a futuristic feel. I should also consider adding a configurable search bar that can search across different engines.' },
            { title: 'Shopping List', content: 'Milk, bread, coffee beans, and a new mousepad.' },
            { content: 'Remember to deploy the latest changes to Vercel by Friday EOD.' }
        ];
        const shortcuts = [
            { name: 'Google', category: 'Search', url: 'https://www.google.com', icon: 'M11.99 2C6.47 2 2 6.47 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95a6.36 6.36 0 00-3.98-3.98V6.07h2.95a8.03 8.03 0 013.98 1.93zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2s.06 1.34.14 2H4.26zm.8 2h2.95a6.36 6.36 0 003.98 3.98v-2.02h-2.95a8.03 8.03 0 01-3.98-1.96zM12.01 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c.09-.66.15-1.32.15-2s-.06-1.34-.15-2h4.68c-.09.66-.15 1.32-.15 2s.06 1.34.15 2zm.25 5.98v-2.02h2.95a8.03 8.03 0 01-3.98 1.96zM17.07 16h2.95a8.03 8.03 0 00-1.93-3.98H16.07v2.02c.36.01.71.02 1 .02z' },
            { name: 'Bing', category: 'Search', url: 'https://www.bing.com', icon: 'M12.83 12.83L10 16.5V7.5l2.83 3.67 4.51-4.51-2.05-2.05a8 8 0 10-8.12 8.12l2.05 2.05 4.51-4.51z' },
            { name: 'YouTube', category: 'Media', url: 'https://www.youtube.com', icon: 'M21.58 7.19c-.23-.86-.91-1.54-1.77-1.77C18.25 5 12 5 12 5s-6.25 0-7.81.42c-.86.23-1.54.91-1.77 1.77C2 8.75 2 12 2 12s0 3.25.42 4.81c.23.86.91 1.54 1.77 1.77C5.75 19 12 19 12 19s6.25 0 7.81-.42c.86-.23-1.54-.91-1.77-1.77C22 15.25 22 12 22 12s0-3.25-.42-4.81zM10 15V9l5.2 3-5.2 3z' },
            { name: 'Reddit', category: 'Social & News', url: 'https://www.reddit.com', icon: 'M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1.84 13.21c-1.36 0-2.46-1.1-2.46-2.46s1.1-2.46 2.46-2.46 2.46 1.1 2.46 2.46-1.1 2.46-2.46 2.46zm3.68 0c-1.36 0-2.46-1.1-2.46-2.46s1.1-2.46 2.46-2.46 2.46 1.1 2.46 2.46-1.1 2.46-2.46 2.46zm-5.4-5.06c.26-.26.68-.26.94 0l1.62 1.62c.26.26.26.68 0 .94-.26.26-.68.26-.94 0l-1.62-1.62c-.26-.26-.26-.68 0-.94zm6.16 2.56c-.52 1-1.59 1.68-2.8 1.68s-2.28-.68-2.8-1.68c-.14-.28.04-.63.36-.71.32-.08.66.04.79.36.33.63 1.04 1.03 1.65 1.03s1.32-.4 1.65-1.03c.13-.32.47-.44.79-.36.32.08.5.43.36.71z' },
            { name: 'GitHub', category: 'Development', url: 'https://github.com', icon: 'M12 2C6.477 2 2 6.477 2 12c0 4.419 2.865 8.166 6.839 9.49.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.455-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.004.071 1.532 1.03 1.532 1.03.891 1.53 2.339 1.088 2.91.832.091-.647.349-1.088.635-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.03-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.269 2.75 1.026A9.564 9.564 0 0112 6.82c.85.004 1.705.115 2.504.336 1.909-1.295 2.747-1.026 2.747-1.026.546 1.378.202 2.398.1 2.65.64.7 1.028 1.595 1.028 2.688 0 3.848-2.338 4.695-4.566 4.942.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.578.688.482A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z' },
            { name: 'Vercel', category: 'Development', url: 'https://vercel.com', icon: 'M12 2L2 12l10 10 10-10L12 2z' },
            { name: 'Figma', category: 'Design', url: 'https://www.figma.com', icon: 'M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM9 18v-6H7V9h2V7a2 2 0 012-2h2v3h-2v2h2v3h-2v3H9z' }
        ];
        const categoryConfig = {
            'Search': { color: 'sky' },
            'Media': { color: 'red' },
            'Social & News': { color: 'orange' },
            'Development': { color: 'violet' },
            'Design': { color: 'pink' }
        };

        // --- RENDER FUNCTIONS ---
        function renderTitle() {
            document.getElementById('page-title').textContent = pageTitle;
            document.title = pageTitle;
        }

        function createShortcutElement(shortcut) {
            const a = document.createElement('a');
            a.href = shortcut.url;
            a.target = '_blank';
            a.rel = 'noopener noreferrer';
            a.className = 'group flex items-center gap-4 p-4 bg-white/50 dark:bg-gray-800/50 rounded-lg shadow-lg hover:bg-gray-200/60 dark:hover:bg-gray-700/80 hover:shadow-cyan-500/10 hover:-translate-y-1 transition-all duration-300 text-gray-700 dark:text-gray-200 border border-gray-300/80 dark:border-gray-700/80';

            if (shortcut.icon) {
                const iconContainer = document.createElement('div');
                iconContainer.className = 'flex-shrink-0 w-6 h-6';
                const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
                svg.setAttribute('viewBox', '0 0 24 24');
                svg.setAttribute('fill', 'currentColor');
                svg.className = 'text-gray-500 dark:text-gray-400 group-hover:text-black dark:group-hover:text-white transition-colors duration-300';
                const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                path.setAttribute('d', shortcut.icon);
                svg.appendChild(path);
                iconContainer.appendChild(svg);
                a.appendChild(iconContainer);
            }
            const textSpan = document.createElement('span');
            textSpan.textContent = shortcut.name;
            textSpan.className = 'font-semibold whitespace-nowrap overflow-hidden text-ellipsis';
            a.appendChild(textSpan);
            return a;
        }

        function renderShortcuts() {
            const mainContainer = document.getElementById('shortcuts-container');
            mainContainer.innerHTML = '';
            const groupedByCategory = shortcuts.reduce((groups, shortcut) => {
                const category = shortcut.category;
                if (!groups[category]) groups[category] = [];
                groups[category].push(shortcut);
                return groups;
            }, {});

            let delay = 0;
            for (const category in groupedByCategory) {
                const config = categoryConfig[category] || { color: 'gray' };
                const colorClass = config.color;
                const categoryWrapper = document.createElement('div');
                categoryWrapper.className = `p-5 rounded-xl border border-gray-300/80 dark:border-gray-700/80 bg-white/40 dark:bg-gray-800/40 backdrop-blur-sm shadow-2xl`;
                categoryWrapper.style.animationDelay = `${delay}s`;
                delay += 0.1;

                const categoryHeader = document.createElement('div');
                categoryHeader.className = `flex items-center gap-3 mb-4 border-b-2 border-${colorClass}-500/50 pb-2`;
                const categoryColorDot = document.createElement('div');
                categoryColorDot.className = `w-3 h-3 rounded-full bg-${colorClass}-500`;
                const categoryTitle = document.createElement('h2');
                categoryTitle.textContent = category;
                categoryTitle.className = 'text-xl font-bold text-gray-800 dark:text-gray-200';
                
                categoryHeader.appendChild(categoryColorDot);
                categoryHeader.appendChild(categoryTitle);
                categoryWrapper.appendChild(categoryHeader);

                const linksGrid = document.createElement('div');
                linksGrid.className = 'grid grid-cols-1 sm:grid-cols-2 gap-3';
                groupedByCategory[category].forEach(shortcut => {
                    linksGrid.appendChild(createShortcutElement(shortcut));
                });
                categoryWrapper.appendChild(linksGrid);
                mainContainer.appendChild(categoryWrapper);
            }
        }

        function renderNotes() {
            const notesContainer = document.getElementById('notes-container');
            const maxNoteLength = 120;

            if (!notes || notes.length === 0) {
                return;
            }
            notesContainer.innerHTML = '';

            let delay = 0;
            notes.forEach(note => {
                const noteCard = document.createElement('div');
                noteCard.className = 'p-5 rounded-xl border border-gray-300/80 dark:border-gray-700/80 bg-white/40 dark:bg-gray-800/40 backdrop-blur-sm shadow-2xl flex flex-col transition-all duration-300';
                noteCard.style.animationDelay = `${delay}s`;
                delay += 0.1;

                if (note.title) {
                    const titleElement = document.createElement('h3');
                    titleElement.className = 'text-lg font-bold text-sky-600 dark:text-sky-300 mb-2';
                    titleElement.textContent = note.title;
                    noteCard.appendChild(titleElement);
                }

                const contentElement = document.createElement('p');
                contentElement.className = 'text-gray-600 dark:text-gray-300 whitespace-pre-wrap';
                noteCard.appendChild(contentElement);

                if (note.content.length > maxNoteLength) {
                    contentElement.textContent = note.content.substring(0, maxNoteLength) + '...';
                    const readMore = document.createElement('span');
                    readMore.textContent = 'Read more';
                    readMore.className = 'text-sky-600 dark:text-sky-400 hover:text-sky-500 dark:hover:text-sky-300 font-semibold mt-auto pt-2 cursor-pointer';
                    noteCard.appendChild(readMore);
                    noteCard.classList.add('cursor-pointer', 'hover:border-sky-500/50', 'dark:hover:border-sky-500/50', 'hover:-translate-y-1');
                    noteCard.addEventListener('click', () => showNoteModal(note.title, note.content));
                } else {
                    contentElement.textContent = note.content;
                }
                notesContainer.appendChild(noteCard);
            });
        }
        
        // --- MODAL FUNCTIONS ---
        function showNoteModal(title, content) {
            const modal = document.getElementById('note-modal');
            const modalTitle = document.getElementById('modal-title');
            const modalBody = document.getElementById('modal-body');

            modalTitle.textContent = title || 'Note';
            modalTitle.style.display = title ? 'block' : 'none';
            modalBody.textContent = content;

            // Add 'is-active' class to trigger animations
            modal.classList.add('is-active');
            // Ensure body doesn't scroll when modal is open
            document.body.style.overflow = 'hidden';
        }

        function hideNoteModal() {
            const modal = document.getElementById('note-modal');
            // Remove 'is-active' class to trigger animations for closing
            modal.classList.remove('is-active');
            // Restore body scrolling
            document.body.style.overflow = '';
        }

        function setupModal() {
            const modal = document.getElementById('note-modal');
            const closeBtn = document.getElementById('modal-close-btn');
            if (!modal || !closeBtn) return;

            closeBtn.addEventListener('click', hideNoteModal);
            modal.addEventListener('click', (event) => {
                // Close modal only if clicking directly on the overlay, not the content
                if (event.target === modal) hideNoteModal();
            });
        }

        // --- NEW THEME SWITCHER LOGIC ---
        function setupThemeSwitcher() {
            const themeBtn = document.getElementById('theme-switcher');
            const sunIcon = document.getElementById('sun-icon');
            const moonIcon = document.getElementById('moon-icon');

            const applyTheme = (isDark) => {
                if (isDark) {
                    document.documentElement.classList.add('dark');
                    sunIcon.classList.remove('hidden');
                    moonIcon.classList.add('hidden');
                } else {
                    document.documentElement.classList.remove('dark');
                    sunIcon.classList.add('hidden');
                    moonIcon.classList.remove('hidden');
                }
            };

            themeBtn.addEventListener('click', () => {
                const isDarkMode = document.documentElement.classList.toggle('dark');
                localStorage.setItem('theme', isDarkMode ? 'dark' : 'light');
                applyTheme(isDarkMode);
            });

            // Load theme from localStorage or system preference
            const savedTheme = localStorage.getItem('theme');
            const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            applyTheme(savedTheme === 'dark' || (!savedTheme && systemPrefersDark));
        }

        window.onload = function() {
            renderTitle();
            renderShortcuts();
            renderNotes();
            setupModal();
            setupThemeSwitcher(); // Initialize theme switcher
            // Close modal with Escape key
            window.addEventListener('keydown', (event) => {
                if (event.key === 'Escape' && document.getElementById('note-modal').style.display !== 'none') {
                    hideNoteModal();
                }
            });
        };
    </script>
</head>
<body class="bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-white transition-colors duration-300">
    
    <button id="theme-switcher" class="fixed top-4 right-4 p-2 rounded-full bg-gray-500/20 hover:bg-gray-500/40 backdrop-blur-sm transition-colors" aria-label="Toggle theme">
        <svg id="sun-icon" class="w-6 h-6 text-yellow-500 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>
        <svg id="moon-icon" class="w-6 h-6 text-gray-200 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg>
    </button>

    <div class="absolute top-0 left-0 w-full h-full bg-gradient-to-br from-white/10 via-white/0 to-indigo-100/20 dark:from-gray-900 dark:via-gray-900 dark:to-indigo-900/40 -z-10"></div>
    
    <div class="container mx-auto p-4 sm:p-6 lg:p-8">
        <h1 id="page-title" class="text-4xl font-bold mb-8 text-center fade-in"></h1>

        <div id="shortcuts-container" class="grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6 mb-12"></div>

        <div id="notes-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
    </div>

    <div id="note-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 transition-opacity duration-300 opacity-0 invisible">
        <div id="note-modal-content" class="bg-white dark:bg-gray-800 rounded-lg shadow-xl p-8 w-full max-w-2xl max-h-[90vh] overflow-y-auto transform scale-95 opacity-0 transition-all duration-300 relative">
            <button id="modal-close-btn" class="absolute top-4 right-4 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white text-3xl leading-none">&times;</button>
            <h2 id="modal-title" class="text-2xl font-bold mb-4 text-gray-900 dark:text-white"></h2>
            <p id="modal-body" class="text-gray-700 dark:text-gray-200 whitespace-pre-wrap"></p>
        </div>
    </div>
</body>
</html>